(this.webpackJsonpschedule=this.webpackJsonpschedule||[]).push([[0],{166:function(e,t,a){},168:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),i=a.n(c),o=(a(166),a(141)),s=a(53),l=a.n(s),d=a(78),u=a(61),j=a(41),b=a(31),m=(a(168),a(264)),p=a(253),h=a(257),x=a(247),O=a(265),f=a(266),g=a(268),v=a(256),y=a(262),k=a(258),w=a(250),C=a(252),D=a(218),T=a(79),N=a.n(T),S=a(114),M=a(139),I=a.n(M),B=a(115),A=a.n(B),P=a(267),F=a(116),H=a(19),L=a(261),W=a(260),q=a(140),R=a.n(q),E=a(259),J=a(6),V=["yeshanbe","doshanbe","seshanbe","charshanbe","panshanbe","jome","shanbe"],Y=new Date,K=r.a.createContext(),X=Object(x.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginTop:e.spacing(1),marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300},formControl:{margin:e.spacing(1),minWidth:120},Task:{marginTop:"10px",marginBottom:"10px",marginLeft:"16px",marginRight:"16px"},TaskContent:{paddingTop:"10px",paddingBottom:"10px",display:"grid",gridTemplateColumns:"20fr 1fr",gridTemplateAreas:'"task trash"'},TaskText:{gridArea:"task",cursor:"default"},root:{width:280,padding:"16px",paddingBottom:"0px",marginBottom:"0px"},DeleteIcon:{gridArea:"trash",color:"#808080",cursor:"pointer"},input:{color:"white"}}})),z=[{value:5,label:"5m"},{value:20,label:"20m"},{value:60,label:"1h"},{value:120,label:"2h"}];function G(e){var t=e.value,a=X(),r=Object(n.useState)(Object(S.randomColor)()),c=Object(b.a)(r,2),i=c[0],o=(c[1],Object(n.useState)(!1)),s=Object(b.a)(o,2),l=(s[0],s[1],ee(t.time.start,0)+"-"+ee(t.time.start,parseInt(t.time.duration)));return Object(J.jsx)("div",{children:Object(J.jsx)(w.a,{className:a.Task,style:{backgroundColor:i},children:Object(J.jsxs)(C.a,{className:a.TaskContent,children:[Object(J.jsx)(N.a,{minDeviceWidth:700,children:Object(J.jsxs)(D.a,{variant:"body1",color:"textSecondary",component:"p",className:a.TaskText,children:[l+" ",t.text," for "+t.time.duration+" minutes",Object(J.jsx)(D.a,{variant:"caption",display:"block",gutterBottom:!0,children:" "+t.time.recurse})]})}),Object(J.jsx)(N.a,{maxDeviceWidth:699,children:Object(J.jsxs)(D.a,{variant:"body1",color:"textSecondary",component:"p",className:a.TaskText,children:[Object(J.jsx)(D.a,{variant:"caption",display:"block",gutterBottom:!0,children:l+" "}),t.text," for "+t.time.duration+" minutes",Object(J.jsx)(D.a,{variant:"caption",display:"block",gutterBottom:!0,children:" "+t.time.recurse})]})}),Object(J.jsx)(I.a,{className:a.DeleteIcon,onClick:function(){$("https://cloud.pdcommunity.ir/timeblox/delete.php",t).then((function(e){window.location.reload(),console.log(e)}))}})]})})})}function Q(e){return Object(J.jsxs)("div",{children:[e.value.map((function(e,t){return Object(J.jsx)(G,{value:e})})),"    "]})}function U(e){var t,a,n=e.value,r=e.selectedDate,c=[],i="";for(a=0;a<n.length;a++){var o=new Date(n[a].time.start);(o.getFullYear()===r.getFullYear()&&o.getMonth()===r.getMonth()&&o.getDate()===r.getDate()||"weekly"===n[a].time.recurse&&o.getDay()===r.getDay()||"daily"===n[a].time.recurse)&&(c.push(n[a]),i=n[a].time.start,t=n[a].time.duration)}return c.sort((function(e,t){return 60*new Date(e.time.start).getHours()+new Date(e.time.start).getMinutes()-(60*new Date(t.time.start).getHours()+new Date(t.time.start).getMinutes())})),e.deft(function(e,t){var a=new Date(e),n=60*a.getHours()+a.getMinutes()+parseInt(t),r=e.split("T"),c=Math.floor(n/60),i=Math.floor(n-60*c);c<10&&(c="0"+c);i<10&&(i="0"+i);return r[0]+"T"+c+":"+i}(i,t)),Object(J.jsx)("div",{children:Object(J.jsx)(Q,{value:c})})}function Z(e){var t=e.onAdd,a=e.onClose,r=e.open,c=e.deft,i=X(),o=Object(n.useState)({tt:!0}),s=Object(b.a)(o,2),l=s[0],d=s[1],x=Object(n.useState)("30"),w=Object(b.a)(x,2),C=w[0],T=w[1];console.log(l),console.log(c);var N=function(){a()},S=function(e){d(Object(j.a)(Object(j.a)({},l),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(J.jsxs)(m.a,{onClose:N,"aria-labelledby":"form-dialog-title",open:r,children:[Object(J.jsx)(p.a,{id:"form-dialog-title",children:"Create a new Timeblock"}),Object(J.jsx)(O.a,{name:"start",value:l.tt?c:l.start,onChange:S,onClick:function(){d(Object(j.a)(Object(j.a)({},l),{},{tt:!1}))},required:!0,id:"datetime-local",label:"Choose start date and time",type:"datetime-local",className:i.textField,InputLabelProps:{shrink:!0},defaultValue:c}),Object(J.jsxs)("div",{className:i.root,children:[Object(J.jsx)(D.a,{id:"discrete-slider",gutterBottom:!0,children:"Duration:"}),Object(J.jsx)(P.a,{name:"end",onChange:function(e,t){return T(t)},defaultValue:30,step:5,marks:z,min:5,max:120,valueLabelDisplay:"auto"})]}),Object(J.jsx)(O.a,{required:!0,id:"standard-required",label:"Task",className:i.textField,name:"text",value:l.text,onChange:S}),Object(J.jsxs)(v.a,{className:i.formControl,required:!0,children:[Object(J.jsx)(f.a,{id:"demo-simple-select-label",children:"Recurse"}),Object(J.jsxs)(y.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"recurse",value:l.recurse,onChange:S,defaultValue:"",children:[Object(J.jsx)(g.a,{value:"weekly",children:"Weekly"}),Object(J.jsx)(g.a,{value:"daily",children:"Daily"}),Object(J.jsx)(g.a,{value:"onetime",children:"One time"})]})]}),Object(J.jsxs)(h.a,{children:[Object(J.jsx)(k.a,{onClick:N,color:"primary",children:"Cancel"}),Object(J.jsx)(k.a,{color:"primary",onClick:function(e){var n={time:{start:l.tt?c:l.start,recurse:l.recurse,duration:C},text:l.text};d(Object(j.a)(Object(j.a)({},l),{},{tt:!0})),t(n),a()},children:"Add"})]})]})}function $(){return _.apply(this,arguments)}function _(){return(_=Object(d.a)(l.a.mark((function e(){var t,a,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",a=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,fetch(t,{method:"POST",mode:"no-cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(a)});case 4:return e.sent,e.abrupt("return","kk");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t){var a=new Date(e),n=60*a.getHours()+a.getMinutes()+parseInt(t),r=Math.floor(n/60),c=Math.floor(n-60*r);return r<10&&(r="0"+r),c<10&&(c="0"+c),r+":"+c}var te=function(){var e=r.a.useState(!1),t=Object(b.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),s=Object(b.a)(i,2),u=s[0],j=s[1],m=X(),p=Object(n.useState)(),h=Object(b.a)(p,2),x=h[0],O=h[1],f=r.a.useState(new Date),g=Object(b.a)(f,2),v=g[0],y=g[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()("https://cloud.pdcommunity.ir/timeblox/showjson.php");case 2:t=e.sent,j(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var k=function(e){$("https://cloud.pdcommunity.ir/timeblox/setjson.php",e).then((function(t){j([].concat(Object(o.a)(u),[e])),console.log(t)}))};return Object(J.jsxs)("div",{className:"App",children:[Object(J.jsx)(K.Provider,{value:k}),Object(J.jsxs)("header",{className:"App-header",children:[Object(J.jsxs)(r.a.Fragment,{children:[Object(J.jsx)(D.a,{variant:"h2",color:"#0000",component:"p",className:m.Header,children:"TIMEBLOX"}),Object(J.jsxs)(D.a,{variant:"h5",color:"#00000",component:"p",className:m.HeaderSecondry,children:[Y.toLocaleString("fa-IR").split("\u060c\u200f")[0]+"  ",V[Y.getDay()]]})]}),Object(J.jsxs)("div",{id:"kk",children:[Object(J.jsx)(H.a,{utils:F.a,InputProps:{className:m.input},children:Object(J.jsx)(E.a,{container:!0,justify:"space-around",children:Object(J.jsx)(L.a,{disableToolbar:!0,variant:"inline",format:"yyyy/MM/dd",margin:"normal",id:"date-picker-inline",label:"Pick a Date to show",value:v,onChange:function(e){y(e)},KeyboardButtonProps:{"aria-label":"change date"},InputProps:{className:m.input}})})}),Object(J.jsx)(Z,{onAdd:k,open:a,onClose:function(){c(!1)},deft:x})]}),Object(J.jsx)(U,{value:u,deft:function(e){O(e)},selectedDate:v}),Object(J.jsx)(W.a,{color:"primary","aria-label":"add",onClick:function(){c(!0)},children:Object(J.jsx)(R.a,{})})]})]})};i.a.render(Object(J.jsx)(r.a.StrictMode,{children:Object(J.jsx)(te,{})}),document.getElementById("root"))}},[[216,1,2]]]);
//# sourceMappingURL=main.72e23b39.chunk.js.map